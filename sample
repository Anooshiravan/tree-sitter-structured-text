ACTION PalletCam: 

	// Define conversion between roller radial position and product linear position
	RollerDegreesToMM := (brmPI / 180.0) * RollerRadius; // Convert roller positions to product positions
	RollerMMToDegrees := 180.0 / (brmPI * RollerRadius); // Convert product position to roller position
	
	// Calculate the sync entry position
	SyncEntryPosition := InfeedPosition
						- NumberOfPockets * PocketPitch
						- PalletToPalletGap
						- 50.0 // Link distance between virtual axis and pallet
						- (EXPT(REAL_TO_LREAL(gMachine.Sync.Par.EntryVelocity), 2) / (2.0 * REAL_TO_LREAL(gMachine.Sync.Par.EntryAcceleration) * 1.0E03)) // Ramp down distance
						- 10.0; // 10 extra millimeters
						
	SyncQueueTargetPosition := SyncEntryPosition
								- (EXPT(REAL_TO_LREAL(gMachine.Sync.Par.EntryVelocity), 2) / (2.0 * REAL_TO_LREAL(gMachine.Sync.Par.EntryAcceleration) * 1.0E03)); // Ramp up distance
								
END_ACTION
